import{g as U,m as K,T as G,_ as v,r as Q,z as q,w as J,A as Y,d as Z,B as ee,D as ie,E as y,F as ne,G as E,j as H,H as te,u as ae,o as se,I as ce,c as p,b as P,n as de,L as le,J as T,W as oe,P as d,M as F,p as h,q as $,t as x,x as S,N as M,O as m,Q as D,S as b,U as I,V as B,y as re,X as he}from"./index-1ddded62.js";import{u as ue}from"./0e465284.js";import{f as L}from"./33117849.js";import{_ as ge}from"./0b6d9653.js";import{_ as we}from"./9e1e6ef2.js";import"./9b87f773.js";import"./92337dc1.js";const Se=e=>{const{componentCls:i}=e,n=`${i}-inner`;return{[i]:{[`&${i}-small`]:{minWidth:e.switchMinWidthSM,height:e.switchHeightSM,lineHeight:`${e.switchHeightSM}px`,[`${i}-inner`]:{paddingInlineStart:e.switchInnerMarginMaxSM,paddingInlineEnd:e.switchInnerMarginMinSM,[`${n}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`},[`${n}-unchecked`]:{marginTop:-e.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${i}-handle`]:{width:e.switchPinSizeSM,height:e.switchPinSizeSM},[`${i}-loading-icon`]:{top:(e.switchPinSizeSM-e.switchLoadingIconSize)/2,fontSize:e.switchLoadingIconSize},[`&${i}-checked`]:{[`${i}-inner`]:{paddingInlineStart:e.switchInnerMarginMinSM,paddingInlineEnd:e.switchInnerMarginMaxSM,[`${n}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${n}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`}},[`${i}-handle`]:{insetInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding}px)`}},[`&:not(${i}-disabled):active`]:{[`&:not(${i}-checked) ${n}`]:{[`${n}-unchecked`]:{marginInlineStart:e.marginXXS/2,marginInlineEnd:-e.marginXXS/2}},[`&${i}-checked ${n}`]:{[`${n}-checked`]:{marginInlineStart:-e.marginXXS/2,marginInlineEnd:e.marginXXS/2}}}}}}},me=e=>{const{componentCls:i}=e;return{[i]:{[`${i}-loading-icon${e.iconCls}`]:{position:"relative",top:(e.switchPinSize-e.fontSize)/2,color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${i}-checked ${i}-loading-icon`]:{color:e.switchColor}}}},Ie=e=>{const{componentCls:i}=e,n=`${i}-handle`;return{[i]:{[n]:{position:"absolute",top:e.switchPadding,insetInlineStart:e.switchPadding,width:e.switchPinSize,height:e.switchPinSize,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:e.colorWhite,borderRadius:e.switchPinSize/2,boxShadow:e.switchHandleShadow,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${i}-checked ${n}`]:{insetInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding}px)`},[`&:not(${i}-disabled):active`]:{[`${n}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${i}-checked ${n}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},pe=e=>{const{componentCls:i}=e,n=`${i}-inner`;return{[i]:{[n]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:e.switchInnerMarginMax,paddingInlineEnd:e.switchInnerMarginMin,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${n}-checked, ${n}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none"},[`${n}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`},[`${n}-unchecked`]:{marginTop:-e.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${i}-checked ${n}`]:{paddingInlineStart:e.switchInnerMarginMin,paddingInlineEnd:e.switchInnerMarginMax,[`${n}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${n}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`}},[`&:not(${i}-disabled):active`]:{[`&:not(${i}-checked) ${n}`]:{[`${n}-unchecked`]:{marginInlineStart:e.switchPadding*2,marginInlineEnd:-e.switchPadding*2}},[`&${i}-checked ${n}`]:{[`${n}-checked`]:{marginInlineStart:-e.switchPadding*2,marginInlineEnd:e.switchPadding*2}}}}}},$e=e=>{const{componentCls:i}=e;return{[i]:v(v(v(v({},Q(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:e.switchMinWidth,height:e.switchHeight,lineHeight:`${e.switchHeight}px`,verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${i}-disabled)`]:{background:e.colorTextTertiary}}),q(e)),{[`&${i}-checked`]:{background:e.switchColor,[`&:hover:not(${i}-disabled)`]:{background:e.colorPrimaryHover}},[`&${i}-loading, &${i}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${i}-rtl`]:{direction:"rtl"}})}},xe=U("Switch",e=>{const i=e.fontSize*e.lineHeight,n=e.controlHeight/2,a=2,s=i-a*2,o=n-a*2,u=K(e,{switchMinWidth:s*2+a*4,switchHeight:i,switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchInnerMarginMin:s/2,switchInnerMarginMax:s+a+a*2,switchPadding:a,switchPinSize:s,switchBg:e.colorBgContainer,switchMinWidthSM:o*2+a*2,switchHeightSM:n,switchInnerMarginMinSM:o/2,switchInnerMarginMaxSM:o+a+a*2,switchPinSizeSM:o,switchHandleShadow:`0 2px 4px 0 ${new G("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:e.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[$e(u),pe(u),Ie(u),me(u),Se(u)]}),fe=Y("small","default"),Me=()=>({id:String,prefixCls:String,size:d.oneOf(fe),disabled:{type:Boolean,default:void 0},checkedChildren:d.any,unCheckedChildren:d.any,tabindex:d.oneOfType([d.string,d.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:d.oneOfType([d.string,d.number,d.looseBool]),checkedValue:d.oneOfType([d.string,d.number,d.looseBool]).def(!0),unCheckedValue:d.oneOfType([d.string,d.number,d.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}),ve=Z({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:Me(),slots:Object,setup(e,i){let{attrs:n,slots:a,expose:s,emit:o}=i;const u=ee(),C=ie(),l=y(()=>{var t;return(t=e.disabled)!==null&&t!==void 0?t:C.value});ne(()=>{E(),E()});const c=H(e.checked!==void 0?e.checked:n.defaultChecked),g=y(()=>c.value===e.checkedValue);te(()=>e.checked,()=>{c.value=e.checked});const{prefixCls:r,direction:V,size:N}=ae("switch",e),[O,A]=xe(r),f=H(),z=()=>{var t;(t=f.value)===null||t===void 0||t.focus()};s({focus:z,blur:()=>{var t;(t=f.value)===null||t===void 0||t.blur()}}),se(()=>{ce(()=>{e.autofocus&&!l.value&&f.value.focus()})});const _=(t,w)=>{l.value||(o("update:checked",t),o("change",t,w),u.onFieldChange())},W=t=>{o("blur",t)},R=t=>{z();const w=g.value?e.unCheckedValue:e.checkedValue;_(w,t),o("click",w,t)},X=t=>{t.keyCode===F.LEFT?_(e.unCheckedValue,t):t.keyCode===F.RIGHT&&_(e.checkedValue,t),o("keydown",t)},k=t=>{var w;(w=f.value)===null||w===void 0||w.blur(),o("mouseup",t)},j=y(()=>({[`${r.value}-small`]:N.value==="small",[`${r.value}-loading`]:e.loading,[`${r.value}-checked`]:g.value,[`${r.value}-disabled`]:l.value,[r.value]:!0,[`${r.value}-rtl`]:V.value==="rtl",[A.value]:!0}));return()=>{var t;return O(p(oe,null,{default:()=>[p("button",P(P(P({},de(e,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),n),{},{id:(t=e.id)!==null&&t!==void 0?t:u.id.value,onKeydown:X,onClick:R,onBlur:W,onMouseup:k,type:"button",role:"switch","aria-checked":c.value,disabled:l.value||e.loading,class:[n.class,j.value],ref:f}),[p("div",{class:`${r.value}-handle`},[e.loading?p(le,{class:`${r.value}-loading-icon`},null):null]),p("span",{class:`${r.value}-inner`},[p("span",{class:`${r.value}-inner-checked`},[T(a,e,"checkedChildren")]),p("span",{class:`${r.value}-inner-unchecked`},[T(a,e,"unCheckedChildren")])])])]}))}}}),be=J(ve),Ce={key:0,style:{"font-weight":"bold"}},_e={key:6},ye={key:8},Pe={class:"ant-dropdown-link"},Ve={__name:"NodesView",emits:["router—change"],setup(e){const i=[{title:"Hostname",dataIndex:"hostname",width:200,ellipsis:!0,sorter:(a,s)=>a.hostname>s.hostname},{title:"Ip",dataIndex:"ip",width:200,ellipsis:!0,sorter:(a,s)=>a.ip>s.ip},{title:"Start Time",dataIndex:"start_time",width:200,sorter:(a,s)=>a.start_time>s.start_time},{title:"Finish Time",dataIndex:"finish_time",width:200,sorter:(a,s)=>a.finish_time>s.finish_time},{title:"Enable",dataIndex:"enable",width:100,filters:[{text:"enable",value:!0},{text:"disable",value:!1}],onFilter:(a,s)=>s.enable===a},{title:"Status",dataIndex:"status",width:100,filters:[{text:"online",value:"online"},{text:"offline",value:"offline"}],onFilter:(a,s)=>s.status===a},{title:"Spider",dataIndex:"spider",width:100},{title:"Schedule",dataIndex:"schedule",width:100},{title:"Task",dataIndex:"task",width:100},{title:"Record",dataIndex:"record",width:100},{title:"Action",dataIndex:"action",width:200,fixed:"right"}],n=ue();return n.GetNodes(),(a,s)=>{const o=we,u=be,C=ge;return h(),$(C,{columns:i,"data-source":S(n).nodes,scroll:{x:"100%"}},{headerCell:x(({column:l})=>[["hostname","ip","enable","status","start_time","finish_time"].includes(l.dataIndex)?(h(),M("span",Ce,m(l.title),1)):D("",!0)]),bodyCell:x(({column:l,record:c})=>[l.dataIndex==="spider"?(h(),$(S(b),{key:0,to:"/spiders?node_id="+c.id,onClick:s[0]||(s[0]=g=>a.$emit("router—change","3"))},{default:x(()=>[I(m(c.spider),1)]),_:2},1032,["to"])):l.dataIndex==="schedule"?(h(),$(S(b),{key:1,to:"/schedules?node_id="+c.id,onClick:s[1]||(s[1]=g=>a.$emit("router—change","4"))},{default:x(()=>[I(m(c.schedule),1)]),_:2},1032,["to"])):l.dataIndex==="task"?(h(),$(S(b),{key:2,to:"/tasks?node_id="+c.id,onClick:s[2]||(s[2]=g=>a.$emit("router—change","5"))},{default:x(()=>[I(m(c.task),1)]),_:2},1032,["to"])):l.dataIndex==="record"?(h(),$(S(b),{key:3,to:"/records?node_id="+c.id,onClick:s[3]||(s[3]=g=>a.$emit("router—change","6"))},{default:x(()=>[I(m(c.record),1)]),_:2},1032,["to"])):l.dataIndex==="start_time"?(h(),M(B,{key:4},[I(m(S(L)(c.start_time)),1)],64)):l.dataIndex==="finish_time"?(h(),M(B,{key:5},[I(m(S(L)(c.finish_time)),1)],64)):l.dataIndex==="status"?(h(),M("span",_e,[(h(),$(o,{key:c.status,color:c.status===2?"volcano":"green"},{default:x(()=>[I(m(c.status===2?"OFFLINE":"ONLINE"),1)]),_:2},1032,["color"]))])):l.dataIndex==="enable"?(h(),$(u,{key:7,checked:c.enable,"onUpdate:checked":g=>c.enable=g},null,8,["checked","onUpdate:checked"])):l.dataIndex==="action"?(h(),M("span",ye,[re("a",Pe,[I(" More "),p(S(he))])])):D("",!0)]),_:1},8,["data-source"])}}};export{Ve as default};
