<!DOCTYPE html>
<html lang="en" dir="ltr">
<head><script src="/go-crawler/docs/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=go-crawler/docs/livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Item
  #

The Item is used to store data that needs to be exported and some other auxiliary information.
The built-in Items in the framework cover major storage methods such as files, databases, and message queues.
pkg.Item is an interface and cannot be used directly. pkg.ItemUnimplemented implements all methods of pkg.Item.
If a custom Item needs to implement pkg.Item, it can be composed with pkg.ItemUnimplemented. For example:
type ItemNone struct {
pkg.ItemUnimplemented
}
Item has some common methods:">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/go-crawler/docs/docs/usage/item/">
  <meta property="og:site_name" content="Go Crawler">
  <meta property="og:title" content="Item">
  <meta property="og:description" content="Item # The Item is used to store data that needs to be exported and some other auxiliary information. The built-in Items in the framework cover major storage methods such as files, databases, and message queues. pkg.Item is an interface and cannot be used directly. pkg.ItemUnimplemented implements all methods of pkg.Item. If a custom Item needs to implement pkg.Item, it can be composed with pkg.ItemUnimplemented. For example:
type ItemNone struct { pkg.ItemUnimplemented } Item has some common methods:">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">
<title>Item | Go Crawler</title>
<link rel="icon" href="/go-crawler/docs/favicon.png" >
<link rel="manifest" href="/go-crawler/docs/manifest.json">
<link rel="canonical" href="http://localhost:1313/go-crawler/docs/docs/usage/item/">
  <link rel="alternate" hreflang="zh" href="http://localhost:1313/go-crawler/docs/zh/docs/usage/item/" title="存储">
<link rel="stylesheet" href="/go-crawler/docs/book.min.6c8b9d2a1fc95075ed7da46ca81060b39add8fff6741ac51259f768929281e2c.css" integrity="sha256-bIudKh/JUHXtfaRsqBBgs5rdj/9nQaxRJZ92iSkoHiw=" crossorigin="anonymous">
  <script defer src="/go-crawler/docs/fuse.min.js"></script>
  <script defer src="/go-crawler/docs/en.search.min.aca0e7cbd28cf468b1858107f51a7c5782bc901eb4c7187c1f39b137abb168bf.js" integrity="sha256-rKDny9KM9GixhYEH9Rp8V4K8kB60xxh8HzmxN6uxaL8=" crossorigin="anonymous"></script>

  <script defer src="/go-crawler/docs/sw.min.8f5f8d39ce37f8232a7f0317a8026655f90799b045d8556ccd203097bfcc6627.js" integrity="sha256-j1&#43;NOc43&#43;CMqfwMXqAJmVfkHmbBF2FVszSAwl7/MZic=" crossorigin="anonymous"></script>
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/go-crawler/docs/docs/usage/item/index.xml" title="Go Crawler" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/go-crawler/docs/"><span>Go Crawler</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>



  



  
    
  


  


<ul class="book-languages">
  <li>
    <input type="checkbox" id="languages" class="toggle" />
    <label for="languages" class="flex justify-between">
      <a role="button" class="flex align-center">
        <img src="/go-crawler/docs/svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </label>

    <ul>
      
      <li>
        <a href="/go-crawler/docs/zh/docs/usage/item/">
          Chinese
        </a>
      </li>
      
    </ul>
  </li>
</ul>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <span>Docs</span>
  

          
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/go-crawler/docs/docs/introduction/" class="">Introduction</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/" class="">Usage</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/architecture/" class="">Basic Architecture</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/options/" class="">Options</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/item/" class="active">Item</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/tools/" class="">Tools</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/middleware/" class="">Middleware</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/pipeline/" class="">Pipeline</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/request/" class="">Request</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/response/" class="">Response</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/signals/" class="">Signals</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/proxy/" class="">Proxy</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/download/" class="">Media Downloads</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/mock_server/" class="">Mock Server</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/configuration/" class="">Configuration</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/startup/" class="">Startup</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/parse/" class="">Web Page Parsing Based on Field Tags</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/question/" class="">Q &amp; A</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/usage/example/" class="">Example Code</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/go-crawler/docs/docs/admin/" class="">Admin</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/admin/api/" class="">Api</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/go-crawler/docs/docs/admin/ui/" class="">UI</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Todo</span>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>










  
<ul>
  
  <li>
    <a href="https://github.com/lizongying/go-crawler"  target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
  <li>
    <a href="https://lizongying.github.io/go-crawler/"  target="_blank" rel="noopener">
        Go Crawler Admin
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/go-crawler/docs/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Item</h3>

  <label for="toc-control">
    
    <img src="/go-crawler/docs/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#item">Item</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h2 id="item">
  Item
  <a class="anchor" href="#item">#</a>
</h2>
<p>The Item is used to store data that needs to be exported and some other auxiliary information.
The built-in Items in the framework cover major storage methods such as files, databases, and message queues.
<code>pkg.Item</code> is an interface and cannot be used directly. <code>pkg.ItemUnimplemented</code> implements all methods of <code>pkg.Item</code>.
If a custom Item needs to implement <code>pkg.Item</code>, it can be composed with <code>pkg.ItemUnimplemented</code>. For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">ItemNone</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pkg</span>.<span style="color:#a6e22e">ItemUnimplemented</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Item has some common methods:</p>
<ul>
<li>
<p><code>Name() pkg.ItemName</code>: Get the specific type of the Item, such
as <code>pkg.ItemNone</code>, <code>pkg.ItemCsv</code>, <code>pkg.ItemJsonl</code>, <code>pkg.ItemMongo</code>, <code>pkg.ItemMysql</code>, <code>pkg.ItemSqlite</code>, <code>pkg.ItemKafka</code>,
etc.,
which is used for deserializing the Item to the specific Item implementation.</p>
</li>
<li>
<p><code>SetReferrer(string)</code>: Set the referrer, which can be used to record the source of the request. Generally,
there is no need to set it manually as it is automatically set by the <code>ReferrerMiddleware</code>.</p>
</li>
<li>
<p><code>Referrer() string</code>: Get the referrer.</p>
</li>
<li>
<p><code>SetUniqueKey(string)</code>: Set the unique key, which can be used for filtering and other unique purposes.</p>
</li>
<li>
<p><code>UniqueKey() string</code>: Get the unique key.</p>
</li>
<li>
<p><code>SetId(any)</code>: Set the ID, mainly used as the primary key when saving data. One difference from <code>UniqueKey</code> is
that <code>Id</code> may be generated in the Response and may not be obtained when making the request.</p>
</li>
<li>
<p><code>Id() any</code>: Get the ID.</p>
</li>
<li>
<p><code>SetData(any)</code>: Set the data, which is the complete data to be stored. For standardization, it is required to
be a pointer type. When storing data in different destinations, the data needs to be set in different formats.</p>
</li>
<li>
<p><code>Data() any</code>: Get the data.</p>
</li>
<li>
<p><code>DataJson() string</code>: Get the data json.</p>
</li>
<li>
<p><code>SetFilesRequest([]pkg.Request)</code>: Set the requests for downloading files. This is a slice and can be used to
download multiple files.</p>
</li>
<li>
<p><code>FilesRequest() []pkg.Request</code>: Get the requests for downloading files.</p>
</li>
<li>
<p><code>SetFiles([]pkg.File)</code>: Set the downloaded files using this method.</p>
</li>
<li>
<p><code>Files() []pkg.File</code>: Get the downloaded files.</p>
</li>
<li>
<p><code>SetImagesRequest([]pkg.Request)</code>: Set the requests for downloading images. This is a slice and can be used to
download multiple images.</p>
</li>
<li>
<p><code>ImagesRequest() []pkg.Request</code>: Get the requests for downloading images.</p>
</li>
<li>
<p><code>SetImages([]pkg.Image)</code>: Set the downloaded images using this method.</p>
</li>
<li>
<p><code>Images() []pkg.Image</code>: Get the downloaded images.</p>
</li>
<li>
<p>Built-in Item Implementations: The framework provides some built-in Item implementations, such
as <code>pkg.ItemNone</code>, <code>pkg.ItemCsv</code>, <code>pkg.ItemJsonl</code>, <code>pkg.ItemMongo</code>, <code>pkg.ItemMysql</code>, <code>pkg.ItemSqlite</code>, <code>pkg.ItemKafka</code>,
etc.
You can return an Item as needed and enable the corresponding Pipeline. For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">YieldItem</span>(<span style="color:#a6e22e">ctx</span>, <span style="color:#a6e22e">items</span>.<span style="color:#a6e22e">NewItemMongo</span>(<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">collection</span>, <span style="color:#66d9ef">true</span>).
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">SetUniqueKey</span>(<span style="color:#a6e22e">extra</span>.<span style="color:#a6e22e">Keyword</span>).
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">SetId</span>(<span style="color:#a6e22e">extra</span>.<span style="color:#a6e22e">Keyword</span>).
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">SetData</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">data</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">``</span><span style="color:#960050;background-color:#1e0010">`</span><span style="color:#66d9ef">go</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">spider</span>.<span style="color:#a6e22e">WithOptions</span>(<span style="color:#a6e22e">pkg</span>.<span style="color:#a6e22e">WithMongoPipeline</span>())
</span></span></code></pre></div><ul>
<li>pkg.ItemNone: This Item does not implement any other methods and is mainly used for debugging.
<ul>
<li><code>items.NewItemNone()</code></li>
</ul>
</li>
<li>pkg.ItemCsv: Saves data to a CSV file.
<ul>
<li><code>items.NewItemCsv(filename string)</code></li>
<li>filename is the name of the file to be saved, without the extension.</li>
</ul>
</li>
<li>pkg.ItemJsonl: Saves data to a JSONL file.
<ul>
<li><code>items.NewItemJsonl(filename string)</code></li>
<li>filename is the name of the file to be saved, without the extension.</li>
</ul>
</li>
<li>pkg.ItemMongo: Saves data to MongoDB.
<ul>
<li><code>items.NewItemMongo(collection string, update bool)</code></li>
<li>collection is the MongoDB collection</li>
<li>update: whether to update the data if it already exists in MongoDB.</li>
</ul>
</li>
<li>pkg.ItemSqlite: Saves data to Sqlite.
<ul>
<li><code>items.NewItemSqlite(table string, update bool)</code></li>
<li>table: the Sqlite table</li>
<li>update: whether to update the data if it already exists in Sqlite.</li>
</ul>
</li>
<li>pkg.ItemMysql: Saves data to MySQL.
<ul>
<li><code>items.NewItemMysql(table string, update bool)</code></li>
<li>table: the MySQL table</li>
<li>update: whether to update the data if it already exists in MySQL.</li>
</ul>
</li>
<li>pkg.ItemKafka: Sends data to Kafka.
<ul>
<li><code>items.NewItemKafka(topic string)</code></li>
<li>topic: the Kafka topic.</li>
</ul>
</li>
</ul>
</li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/lizongying/go-crawler/commit/0d29a6013d0269c87a1d1b13f41dbe8008281108" title='Last modified by Li ZongYing | November 8, 2023' target="_blank" rel="noopener">
      <img src="/go-crawler/docs/svg/calendar.svg" class="book-icon" alt="" />
      <span>November 8, 2023</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/lizongying/go-crawler/edit/development/docs/content/en/docs/usage/item/_index.md" target="_blank" rel="noopener">
      <img src="/go-crawler/docs/svg/edit.svg" class="book-icon" alt="" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#item">Item</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












